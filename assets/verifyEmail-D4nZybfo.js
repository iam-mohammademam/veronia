import{a as j,r as n,j as e,a4 as p,h as v,k as y,_ as o,i as m}from"./index-B0mTSIFs.js";const N=()=>{const l=j(),[u,c]=n.useState(null),[d,f]=n.useState(4),x=()=>{const s=new URLSearchParams(window.location.search),a=s.get("email"),t=s.get("id");return{email:a,id:t}},{email:r,id:i}=x(),h=async()=>{var s,a;c(!0);try{await v.put(`${y}/user/verify-email`,{},{headers:{id:i,email:r}}),o.success("Your email has been verified. Please login.");const t=setTimeout(()=>l(`/${m}/sign-in`),4e3);return()=>clearTimeout(t)}catch(t){o.error(((a=(s=t==null?void 0:t.response)==null?void 0:s.data)==null?void 0:a.message)||"Internal server error!");const g=setTimeout(()=>l(`/${m}/sign-up`),4e3);return()=>clearTimeout(g)}finally{c(!1)}};return n.useEffect(()=>{r&&(i==null?void 0:i.length)===24&&h()},[r,i]),n.useEffect(()=>{const s=setInterval(()=>{f(a=>a>0?a-1:0)},1e3);return()=>clearInterval(s)},[]),e.jsx("div",{className:"w-full min-h-screen flex items-center justify-center",children:u?e.jsx(e.Fragment,{children:e.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[e.jsx(p,{className:"animate-spin duration-300 transition-all"}),"Please wait ..."]})}):e.jsxs("div",{className:"text-center flex flex-col gap-y-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Email verification!"}),e.jsxs("span",{className:"font-medium",children:["Your email has been verified.",e.jsx("br",{}),"Now you can safely close this window. Or"]})," ",e.jsxs("span",{className:"font-medium",children:["You will be redirected to login page in"," ",e.jsx("span",{className:"font-medium",children:d})," seconds"]})]})})};export{N as default};
